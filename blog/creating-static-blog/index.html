<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,700|Roboto+Slab&display=swap" rel=stylesheet> <link href=apple-touch-icon.png rel=apple-touch-icon sizes=180x180> <link href=favicon-32x32.png rel=icon sizes=32x32 type=image/png> <link href=favicon-16x16.png rel=icon sizes=16x16 type=image/png> <link href=site.webmanifest rel=manifest> <link href=client/main.3880753156.css rel=stylesheet> <noscript id=sapper-head-start></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156495800-1"> </script> <script> window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      gtag('js', new Date())

      gtag('config', 'UA-156495800-1') </script><title>Creating static blog with Sapper, TailwindCSS and Github pages | chuva.dev</title><meta content="How to create static blog with Svelte 3, Sapper, TailwindCSS and deploy Github pages" name=description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <main class=min-h-screen> <div class="flex flex-wrap container m-auto max-w-5xl pb-8 px-4 relative"> <div class="flex absolute active after:-z-1 after:absolute after:bg-cyan after:empty-content after:h-6 after:w-6 cursor-pointer p-5 right-0 top-0 transition-mode z-10"> <svg class="mr-2 w-8" viewBox="0 0 24 24"> <path class=fill-yellow d="M17 12c0 2.762-2.238 5-5 5s-5-2.238-5-5 2.238-5 5-5 5 2.238 5
      5zm-5-7c.34 0 .672.033 1 .08v-2.08h-2v2.08c.328-.047.66-.08 1-.08zm-4.184
      1.401l-1.472-1.473-1.415 1.415 1.473 1.473c.402-.537.878-1.013
      1.414-1.415zm9.782 1.414l1.473-1.473-1.414-1.414-1.473 1.473c.537.402
      1.012.878 1.414 1.414zm-5.598 11.185c-.34
      0-.672-.033-1-.08v2.08h2v-2.08c-.328.047-.66.08-1 .08zm4.185-1.402l1.473
      1.473 1.415-1.415-1.473-1.472c-.403.536-.879 1.012-1.415
      1.414zm-11.185-5.598c0-.34.033-.672.08-1h-2.08v2h2.08c-.047-.328-.08-.66-.08-1zm13.92-1c.047.328.08.66.08
      1s-.033.672-.08 1h2.08v-2h-2.08zm-12.519 5.184l-1.473 1.473 1.414 1.414
      1.473-1.473c-.536-.402-1.012-.877-1.414-1.414z"></path> </svg> <svg class=w-5 viewBox="0 0 24 24" transform=rotate(-40)> <path class=fill-pink d="M12 10.999c1.437.438 2.562 1.564 2.999 3.001.44-1.437 1.565-2.562
      3.001-3-1.436-.439-2.561-1.563-3.001-3-.437 1.436-1.562 2.561-2.999
      2.999zm8.001.001c.958.293 1.707 1.042 2 2.001.291-.959 1.042-1.709
      1.999-2.001-.957-.292-1.707-1.042-2-2-.293.958-1.042 1.708-1.999
      2zm-1-9c-.437 1.437-1.563 2.562-2.998 3.001 1.438.44 2.561 1.564 3.001
      3.002.437-1.438 1.563-2.563
      2.996-3.002-1.433-.437-2.559-1.564-2.999-3.001zm-7.001 22c-6.617
      0-12-5.383-12-12s5.383-12 12-12c1.894 0 3.63.497 5.37 1.179-2.948.504-9.37
      3.266-9.37 10.821 0 7.454 5.917 10.208 9.37 10.821-1.5.846-3.476
      1.179-5.37 1.179z"></path> </svg> </div> <div class="w-full flex-col justify-center md:w-5/12 pt-4 relative transition-padding"> <a href=.> <h1 class="font-display font-bold inline-block text-4xl whitespace-no-wrap"> chuva <span class="-ml-5 text-red">.dev</span> </h1> </a> </div> <nav class="flex pb-2 transition-padding border-b flex-wrap justify-between mt-4 w-full"> <ul class="flex pb-2 transition-padding font-display list-none text-sm"> <li class=mr-6> <a href=blog class=hover:text-red rel=prefetch>Blog</a> </li> <li class=mr-6> <a href=blog/categories class=hover:text-red rel=prefetch> Categories </a> </li> <li class=mr-6> <a href=blog/hello-world class=hover:text-red rel=prefetch>About</a> </li> </ul> <ul class="flex pb-2 transition-padding font-display list-none text-sm"> <li class=mr-6> <a href=https://github.com/chuvikovd/ class=hover:text-red target=_blank> Github </a> </li> <li> <a href=https://www.linkedin.com/in/chuvikovd/ class=hover:text-red target=_blank> LinkedIn </a> </li> </ul> </nav> <article class="w-full first:mt-0 mt-8"> <h4 class="font-display font-bold"> <a href=blog/categories/Svelte class=hover:text-red rel=prefetch> Svelte, </a><a href=blog/categories/Sapper class=hover:text-red rel=prefetch> Sapper </a> </h4> <h2 class="font-display font-bold leading-tight md:text-4xl text-3xl"> Creating static blog with Sapper, TailwindCSS and Github pages </h2> <h5 class="font-display font-light mt-1"> January 13, 2020, updated January 19, 2020, 5 min read </h5> </article> <div class="w-full markdown mt-6"> <p>Static websites became very popular lasy years. Tools like <a href=https://www.gatsbyjs.org/ class=link rel=nofollow target=_blank>GatsbyJS</a> and <a href=https://jekyllrb.com/ class=link rel=nofollow target=_blank>Jekyll</a> exist for some time. However, I decided to try something different and kinda underground - recently released <a href=https://svelte.dev class=link rel=nofollow target=_blank>Svelte 3</a> with <a href=https://sapper.svelte.dev class=link rel=nofollow target=_blank>Sapper</a>.</p> <h2 id=what-is-sapper>What is Sapper</h2> <p><code>Sapper</code> is web app framework powered by <code>Svelte</code>. It is inspired by <a href=https://github.com/zeit/next.js class=link rel=nofollow target=_blank>Next.js</a> - a framework for <code>React</code>, but, as it's creator states, is much more lightweight and faster. You can read more at <a href=https://sapper.svelte.dev/ class=link rel=nofollow target=_blank>https://sapper.svelte.dev/</a>.</p> <h2 id=what-is-tailwindcss>What is TailwindCSS</h2> <p><a href=https://tailwindcss.com/ class=link rel=nofollow target=_blank>Tailwind</a> is a A utility-first CSS framework. Utility-first means that there aren't any prebuilt UI components, like it is in <a href=https://getbootstrap.com/ class=link rel=nofollow target=_blank>Bootstrap</a>. Instead, Tailwind provides utility classes:</p> <pre class=language-css><code class=language-css><span class="token selector">.absolute</span> <span class="token punctuation">{</span>
  <span class="token property">posiion</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.uppercase</span> <span class="token punctuation">{</span>
  <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>In my opinion, this approach goes wery well with <code>Svelte</code>, because both tools focus on resulting bundle size and final performance.</p> <h2 id=about-this-tutorial>About this tutorial</h2> <p>This tutorial will be splitted into following parts:</p> <ol> <li>Project scaffolding and adding support for <code>markdown</code> and syntax highlight to content</li> <li>Styling with <code>Taildwind</code> and <code>PostCSS</code></li> <li>Adding categories for blog posts</li> <li>Testing</li> <li>Deploying to Github pages</li> </ol> <h2 id=getting-started>Getting started</h2> <p>First, clone sapper project template:</p> <pre class=language-bash><code class=language-bash>npx degit "sveltejs/sapper-template#rollup" sapper-blog-tutorial</code></pre><p>For those who prefer webpack, there is another option <code>npx degit "sveltejs/sapper-template#webpack" sapper-blog-tutorial</code>, but we will use rollup.</p> <p>Then, to install required dependencies run:</p> <pre class=language-bash><code class=language-bash>cd sapper-blog-tutorial/ && yarn</code></pre><p>For now, as we can see in <code>src/routes/blog/_posts.js</code>, our blog posts are just an array:</p> <pre class=language-js><code class=language-js><span class="token comment">// srt/routes/blog/_posts.js</span>

<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        title<span class="token operator">:</span> <span class="token string">'What is Sapper?'</span><span class="token punctuation">,</span>
        slug<span class="token operator">:</span> <span class="token string">'what-is-sapper'</span><span class="token punctuation">,</span>
        html<span class="token operator">:</span> `
            <span class="token operator">&lt;</span>p<span class="token operator">></span>First<span class="token punctuation">,</span> you have to know what <span class="token operator">...</span>
    <span class="token operator">...</span></code></pre><p>To add support for markdown and syntax highlight, first install required dependencies:</p> <pre class=language-bash><code class=language-bash>yarn add marked prismjs gray-matter reading-time</code></pre><p>Then, replace <code>src/routes/blog/_posts.js</code> file content with:</p> <pre class=language-js><code class=language-js><span class="token comment">// src/routes/blog/_posts.js</span>

<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> marked <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'marked'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> matter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gray-matter'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> readingTime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'reading-time'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> prism <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'prismjs'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> cwd <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">POSTS_DIR</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cwd<span class="token punctuation">,</span> <span class="token string">'src/routes/blog/posts/'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">EXCERPT_SEPARATOR</span> <span class="token operator">=</span> <span class="token string">'&lt;!-- more -->'</span>
<span class="token keyword">const</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> linkRenderer <span class="token operator">=</span> renderer<span class="token punctuation">.</span>link
renderer<span class="token punctuation">.</span><span class="token function function-variable">link</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">href<span class="token punctuation">,</span> title<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">linkRenderer</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>renderer<span class="token punctuation">,</span> href<span class="token punctuation">,</span> title<span class="token punctuation">,</span> text<span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> html
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">linkRenderer</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>renderer<span class="token punctuation">,</span> <span class="token string">'javascript:;'</span><span class="token punctuation">,</span> title<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
    <span class="token keyword">return</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
      <span class="token regex">/^&lt;a /</span><span class="token punctuation">,</span>
      <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;a onclick="document.location.hash='</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>href<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">';" </span><span class="token string template-punctuation">`</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^&lt;a /</span><span class="token punctuation">,</span> <span class="token string">'&lt;a target="_blank" rel="nofollow" '</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

renderer<span class="token punctuation">.</span><span class="token function function-variable">code</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> language</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> parser <span class="token operator">=</span> prism<span class="token punctuation">.</span>languages<span class="token punctuation">[</span>language<span class="token punctuation">]</span> <span class="token operator">||</span> prism<span class="token punctuation">.</span>languages<span class="token punctuation">.</span>html
  <span class="token keyword">const</span> highlighted <span class="token operator">=</span> prism<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> parser<span class="token punctuation">,</span> language<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;pre class="language-</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>language<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">">&lt;code class="language-</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>language<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">"></span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>highlighted<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/code>&lt;/pre></span><span class="token string template-punctuation">`</span></span>
<span class="token punctuation">}</span>

marked<span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  renderer<span class="token punctuation">,</span>
  <span class="token function function-variable">highlight</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> prismjs<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> prismjs<span class="token punctuation">.</span>languages<span class="token punctuation">[</span>lang<span class="token punctuation">]</span><span class="token punctuation">,</span> lang<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> code
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> posts <span class="token operator">=</span> fs
  <span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span><span class="token constant">POSTS_DIR</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">fileName</span> <span class="token operator">=></span> <span class="token regex">/\.md$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">fileName</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fileMd <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token constant">POSTS_DIR</span><span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> content<span class="token operator">:</span> rawContent <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">matter</span><span class="token punctuation">(</span>fileMd<span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> description<span class="token punctuation">,</span> created<span class="token punctuation">,</span> updated <span class="token punctuation">}</span> <span class="token operator">=</span> data
    <span class="token keyword">const</span> slug <span class="token operator">=</span> fileName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> rawContent
    <span class="token keyword">let</span> excerpt <span class="token operator">=</span> <span class="token string">''</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>rawContent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token constant">EXCERPT_SEPARATOR</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      excerpt <span class="token operator">=</span> <span class="token function">marked</span><span class="token punctuation">(</span>rawContent<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token constant">EXCERPT_SEPARATOR</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> html <span class="token operator">=</span> marked<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token constant">EXCERPT_SEPARATOR</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token function">readingTime</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">.</span>text

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token punctuation">,</span>
      description<span class="token punctuation">,</span>
      slug<span class="token punctuation">,</span>
      html<span class="token punctuation">,</span>
      created<span class="token punctuation">,</span>
      updated<span class="token punctuation">,</span>
      excerpt<span class="token punctuation">,</span>
      readingTime<span class="token operator">:</span> time<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

posts<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dateA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>created<span class="token punctuation">)</span>
  <span class="token keyword">const</span> dateB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>created<span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>dateA <span class="token operator">></span> dateB<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dateA <span class="token operator">&lt;</span> dateB<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

posts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  post<span class="token punctuation">.</span>html <span class="token operator">=</span> post<span class="token punctuation">.</span>html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\t{3}/gm</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> posts</code></pre><p>I will explain what is going on now. First, we are importing dependencies, of course. Then we are defining directory, where our <code>.md</code> files will be located, and excerpt separator, to be able to create excerpt for posts.</p> <p>Later, we create different markdown renderers. First - link renderer would transform all links with <code>#</code> symbol, so they link to <code>h</code> elements in our post. Link renderer also adds <code>target="_blank" rel="nofollow"</code> to all outgoing links.</p> <p>Then goes the part with code renderer which uses <code>prismjs</code> to parse and highlight code blocks.</p> <p>After that, at line <code>129</code> we define our <code>posts</code> array. <a href=https://www.npmjs.com/package/gray-matter class=link rel=nofollow target=_blank>gray-mater</a> allows our markdown files to contain meta information for our posts, like title, description, creation date and other whatever you want. I am sure you can understand what info I am storing with my posts.</p> <p>Last, we sort posts by date and exporting them.</p> <p>We also need to modify <code>src/routes/blog/index.json.js</code> posts mapping, to include added post information:</p> <pre class=language-js><code class=language-js><span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>
  posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> post<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
      slug<span class="token operator">:</span> post<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
      created<span class="token operator">:</span> post<span class="token punctuation">.</span>created<span class="token punctuation">,</span>
      excerpt<span class="token operator">:</span> post<span class="token punctuation">.</span>excerpt<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre><p>Next file we need to modify is <code>rollup.config.js</code>. Add this line somewhere at the top with other imports:</p> <pre class=language-js><code class=language-js><span class="token keyword">import</span> marked <span class="token keyword">from</span> <span class="token string">'marked'</span></code></pre><p>Then, before <code>export default ...</code> add:</p> <pre class=language-js><code class=language-js><span class="token keyword">const</span> <span class="token function function-variable">markdown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">md<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/\.md$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">marked</span><span class="token punctuation">(</span>md<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      code<span class="token operator">:</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">export default </span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">;</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>And finally, in <code>server</code> part of the exported config, after <code>commonjs(),</code> add:</p> <pre class=language-js><code class=language-js><span class="token function">markdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><p>Final config would look like <a href=https://github.com/chuvikovd/sapper-blog-tutorial/blob/186813bd861bba59a0baa4109e09c3495f7c5144/rollup.config.js class=link rel=nofollow target=_blank>this</a>.</p> <p>Now it is time to add first <code>markdown</code> post. Create file <code>src/routes/blog/posts/hello-world.md</code> with the following content:</p> <pre class=language-markdown><code class=language-markdown>---
title: Hello World
description: First post in this blog
created: '2020-01-11T19:45:28.107Z'
---

This is excerpt.

<span class="token comment">&lt;!-- more --></span>

# Heading

This is the first post in this blog.</code></pre><p>Now run:</p> <pre class=language-bash><code class=language-bash>yarn dev</code></pre><p>and go to <code>http://localhost:3000/blog</code>. You can see that our newly created post is showing in the list and we are able to open it. As you can see, markdown renderer is working. Feel free to write more complex markdown. If you do so, you will notice that syntax highlighting is not working yet - don't worry, we will fix that in second part of this tutorial series.</p> <p>Thats it for now. You can view the whole project at this point <a href=https://github.com/chuvikovd/sapper-blog-tutorial/tree/186813bd861bba59a0baa4109e09c3495f7c5144 class=link rel=nofollow target=_blank>here</a>. Stay tuned for the rest parts.</p> <h2 id=credits>Credits</h2> <p><a href=https://github.com/Charca/sapper-blog-template/ class=link rel=nofollow target=_blank>https://github.com/Charca/sapper-blog-template/</a> - inspiration for markdown renderer</p> </div> <div class="flex border-t flex-col justify-between pt-8 sm:flex-row text-center w-full"> <span>© 2020 Dmitrijs Čuvikovs</span> <span> Powered by <a href=https://svelte.dev/ class=link target=_blank>Svelte</a>, icons by <a href=https://iconmonstr.com class=link target=_blank>iconmonstr</a> </span> </div> </div> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"Creating static blog with Sapper, TailwindCSS and Github pages",description:"How to create static blog with Svelte 3, Sapper, TailwindCSS and deploy Github pages",slug:"creating-static-blog",html:"\u003Cp\u003EStatic websites became very popular lasy years. Tools like \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fwww.gatsbyjs.org\u002F\"\u003EGatsbyJS\u003C\u002Fa\u003E and \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fjekyllrb.com\u002F\"\u003EJekyll\u003C\u002Fa\u003E exist for some time. However, I decided to try something different and kinda underground - recently released \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fsvelte.dev\"\u003ESvelte 3\u003C\u002Fa\u003E with \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fsapper.svelte.dev\"\u003ESapper\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"what-is-sapper\"\u003EWhat is Sapper\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ccode\u003ESapper\u003C\u002Fcode\u003E is web app framework powered by \u003Ccode\u003ESvelte\u003C\u002Fcode\u003E. It is inspired by \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fgithub.com\u002Fzeit\u002Fnext.js\"\u003ENext.js\u003C\u002Fa\u003E - a framework for \u003Ccode\u003EReact\u003C\u002Fcode\u003E, but, as it&#39;s creator states, is much more lightweight and faster. You can read more at \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\"\u003Ehttps:\u002F\u002Fsapper.svelte.dev\u002F\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"what-is-tailwindcss\"\u003EWhat is TailwindCSS\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Ftailwindcss.com\u002F\"\u003ETailwind\u003C\u002Fa\u003E is a A utility-first CSS framework. Utility-first means that there aren&#39;t any prebuilt UI components, like it is in \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fgetbootstrap.com\u002F\"\u003EBootstrap\u003C\u002Fa\u003E. Instead, Tailwind provides utility classes:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-css\"\u003E\u003Ccode class=\"language-css\"\u003E\u003Cspan class=\"token selector\"\u003E.absolute\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003Eposiion\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E:\u003C\u002Fspan\u003E absolute\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token selector\"\u003E.uppercase\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003Etext-transform\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E:\u003C\u002Fspan\u003E uppercase\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EIn my opinion, this approach goes wery well with \u003Ccode\u003ESvelte\u003C\u002Fcode\u003E, because both tools focus on resulting bundle size and final performance.\u003C\u002Fp\u003E\n\u003Ch2 id=\"about-this-tutorial\"\u003EAbout this tutorial\u003C\u002Fh2\u003E\n\u003Cp\u003EThis tutorial will be splitted into following parts:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EProject scaffolding and adding support for \u003Ccode\u003Emarkdown\u003C\u002Fcode\u003E and syntax highlight to content\u003C\u002Fli\u003E\n\u003Cli\u003EStyling with \u003Ccode\u003ETaildwind\u003C\u002Fcode\u003E and \u003Ccode\u003EPostCSS\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EAdding categories for blog posts\u003C\u002Fli\u003E\n\u003Cli\u003ETesting\u003C\u002Fli\u003E\n\u003Cli\u003EDeploying to Github pages\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"getting-started\"\u003EGetting started\u003C\u002Fh2\u003E\n\u003Cp\u003EFirst, clone sapper project template:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Enpx degit \"sveltejs\u002Fsapper-template#rollup\" sapper-blog-tutorial\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EFor those who prefer webpack, there is another option \u003Ccode\u003Enpx degit &quot;sveltejs\u002Fsapper-template#webpack&quot; sapper-blog-tutorial\u003C\u002Fcode\u003E, but we will use rollup.\u003C\u002Fp\u003E\n\u003Cp\u003EThen, to install required dependencies run:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Ecd sapper-blog-tutorial\u002F &amp;&amp; yarn\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EFor now, as we can see in \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u002F_posts.js\u003C\u002Fcode\u003E, our blog posts are just an array:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F srt\u002Froutes\u002Fblog\u002F_posts.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        title\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'What is Sapper?'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n        slug\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'what-is-sapper'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n        html\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E `\n            \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003Ep\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003EFirst\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E you have to know what \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token operator\"\u003E...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ETo add support for markdown and syntax highlight, first install required dependencies:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Eyarn add marked prismjs gray-matter reading-time\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThen, replace \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u002F_posts.js\u003C\u002Fcode\u003E file content with:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F src\u002Froutes\u002Fblog\u002F_posts.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E fs \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'fs'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E path \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'path'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E marked \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'marked'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E matter \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'gray-matter'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E readingTime \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'reading-time'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E prism \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'prismjs'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E cwd \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E process\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ecwd\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token constant\"\u003EPOSTS_DIR\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E path\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecwd\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'src\u002Froutes\u002Fblog\u002Fposts\u002F'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token constant\"\u003EEXCERPT_SEPARATOR\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'&lt;!-- more --\u003E'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E renderer \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003Emarked\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003ERenderer\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E linkRenderer \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E renderer\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Elink\nrenderer\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function-variable function\"\u003Elink\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ehref\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E title\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E text\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E html \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003ElinkRenderer\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ecall\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Erenderer\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E href\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E title\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E text\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ehref\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EindexOf\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'\u002F'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E html\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ehref\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EindexOf\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'#'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E html \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003ElinkRenderer\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ecall\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Erenderer\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'javascript:;'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E title\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E text\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E html\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token regex\"\u003E\u002F^&lt;a \u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;a onclick=\"document.location.hash='\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E${\u003C\u002Fspan\u003Ehref\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esubstr\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E';\" \u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E html\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token regex\"\u003E\u002F^&lt;a \u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'&lt;a target=\"_blank\" rel=\"nofollow\" '\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\nrenderer\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function-variable function\"\u003Ecode\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ecode\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E language\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E parser \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E prism\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Elanguages\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Elanguage\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E||\u003C\u002Fspan\u003E prism\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Elanguages\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ehtml\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E highlighted \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E prism\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ehighlight\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecode\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E parser\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E language\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;pre class=\"language-\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E${\u003C\u002Fspan\u003Elanguage\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\u003E&lt;code class=\"language-\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E${\u003C\u002Fspan\u003Elanguage\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E${\u003C\u002Fspan\u003Ehighlighted\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Fcode\u003E&lt;\u002Fpre\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\nmarked\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EsetOptions\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  renderer\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token function-variable function\"\u003Ehighlight\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ecode\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E lang\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Etry\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E prismjs\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ehighlight\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ecode\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E prismjs\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Elanguages\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Elang\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E lang\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ecatch\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E code\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E fs\n  \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EreaddirSync\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EPOSTS_DIR\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Efilter\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003EfileName\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token regex\"\u003E\u002F\\.md$\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Etest\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EfileName\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003EfileName\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E fileMd \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E fs\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EreadFileSync\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Epath\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EPOSTS_DIR\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E fileName\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'utf8'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E data\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E content\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E rawContent \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Ematter\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EfileMd\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E title\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E description\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E created\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E updated \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E data\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E slug \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E fileName\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'.'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E content \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E rawContent\n    \u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E excerpt \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003ErawContent\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EindexOf\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EEXCERPT_SEPARATOR\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E!==\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      excerpt \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emarked\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003ErawContent\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EEXCERPT_SEPARATOR\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E html \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E marked\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eparse\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Econtent\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EEXCERPT_SEPARATOR\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E time \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EreadingTime\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Econtent\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Etext\n\n    \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      title\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      description\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      slug\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      html\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      created\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      updated\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      excerpt\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      readingTime\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E time\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\nposts\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esort\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ea\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E b\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E dateA \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ea\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ecreated\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E dateB \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eb\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ecreated\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EdateA \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E dateB\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003EdateA \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E dateB\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\nposts\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EforEach\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Epost\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ehtml \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ehtml\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token regex\"\u003E\u002F^\\t{3}\u002Fgm\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E posts\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EI will explain what is going on now. First, we are importing dependencies, of course. Then we are defining directory, where our \u003Ccode\u003E.md\u003C\u002Fcode\u003E files will be located, and excerpt separator, to be able to create excerpt for posts.\u003C\u002Fp\u003E\n\u003Cp\u003ELater, we create different markdown renderers. First - link renderer would transform all links with \u003Ccode\u003E#\u003C\u002Fcode\u003E symbol, so they link to \u003Ccode\u003Eh\u003C\u002Fcode\u003E elements in our post. Link renderer also adds \u003Ccode\u003Etarget=&quot;_blank&quot; rel=&quot;nofollow&quot;\u003C\u002Fcode\u003E to all outgoing links.\u003C\u002Fp\u003E\n\u003Cp\u003EThen goes the part with code renderer which uses \u003Ccode\u003Eprismjs\u003C\u002Fcode\u003E to parse and highlight code blocks.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter that, at line \u003Ccode\u003E129\u003C\u002Fcode\u003E we define our \u003Ccode\u003Eposts\u003C\u002Fcode\u003E array. \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fgray-matter\"\u003Egray-mater\u003C\u002Fa\u003E allows our markdown files to contain meta information for our posts, like title, description, creation date and other whatever you want. I am sure you can understand what info I am storing with my posts.\u003C\u002Fp\u003E\n\u003Cp\u003ELast, we sort posts by date and exporting them.\u003C\u002Fp\u003E\n\u003Cp\u003EWe also need to modify \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u002Findex.json.js\u003C\u002Fcode\u003E posts mapping, to include added post information:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E contents \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token constant\"\u003EJSON\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Estringify\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n  posts\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Epost\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      title\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Etitle\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      slug\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eslug\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      created\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Ecreated\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      excerpt\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eexcerpt\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENext file we need to modify is \u003Ccode\u003Erollup.config.js\u003C\u002Fcode\u003E. Add this line somewhere at the top with other imports:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E marked \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'marked'\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThen, before \u003Ccode\u003Eexport default ...\u003C\u002Fcode\u003E add:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token function-variable function\"\u003Emarkdown\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token function\"\u003Etransform\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Emd\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E id\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"token regex\"\u003E\u002F\\.md$\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Etest\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eid\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enull\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E data \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Emarked\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Emd\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      code\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003Eexport default \u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E${\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EJSON\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Estringify\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Edata\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EtoString\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E;\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EAnd finally, in \u003Ccode\u003Eserver\u003C\u002Fcode\u003E part of the exported config, after \u003Ccode\u003Ecommonjs(),\u003C\u002Fcode\u003E add:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token function\"\u003Emarkdown\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EFinal config would look like \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fgithub.com\u002Fchuvikovd\u002Fsapper-blog-tutorial\u002Fblob\u002F186813bd861bba59a0baa4109e09c3495f7c5144\u002Frollup.config.js\"\u003Ethis\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENow it is time to add first \u003Ccode\u003Emarkdown\u003C\u002Fcode\u003E post. Create file \u003Ccode\u003Esrc\u002Froutes\u002Fblog\u002Fposts\u002Fhello-world.md\u003C\u002Fcode\u003E with the following content:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-markdown\"\u003E\u003Ccode class=\"language-markdown\"\u003E---\ntitle: Hello World\ndescription: First post in this blog\ncreated: '2020-01-11T19:45:28.107Z'\n---\n\nThis is excerpt.\n\n\u003Cspan class=\"token comment\"\u003E&lt;!-- more --\u003E\u003C\u002Fspan\u003E\n\n# Heading\n\nThis is the first post in this blog.\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENow run:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003Ccode class=\"language-bash\"\u003Eyarn dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eand go to \u003Ccode\u003Ehttp:\u002F\u002Flocalhost:3000\u002Fblog\u003C\u002Fcode\u003E. You can see that our newly created post is showing in the list and we are able to open it. As you can see, markdown renderer is working. Feel free to write more complex markdown. If you do so, you will notice that syntax highlighting is not working yet - don&#39;t worry, we will fix that in second part of this tutorial series.\u003C\u002Fp\u003E\n\u003Cp\u003EThats it for now. You can view the whole project at this point \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fgithub.com\u002Fchuvikovd\u002Fsapper-blog-tutorial\u002Ftree\u002F186813bd861bba59a0baa4109e09c3495f7c5144\"\u003Ehere\u003C\u002Fa\u003E. Stay tuned for the rest parts.\u003C\u002Fp\u003E\n\u003Ch2 id=\"credits\"\u003ECredits\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fgithub.com\u002FCharca\u002Fsapper-blog-template\u002F\"\u003Ehttps:\u002F\u002Fgithub.com\u002FCharca\u002Fsapper-blog-template\u002F\u003C\u002Fa\u003E - inspiration for markdown renderer\u003C\u002Fp\u003E\n",created:"2020-01-13T20:33:22.846Z",updated:"2020-01-19T12:53:10.490Z",excerpt:"\u003Cp\u003EStatic websites became very popular lasy years. Tools like \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fwww.gatsbyjs.org\u002F\"\u003EGatsbyJS\u003C\u002Fa\u003E and \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fjekyllrb.com\u002F\"\u003EJekyll\u003C\u002Fa\u003E exist for some time. However, I decided to try something different and kinda underground - recently released \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fsvelte.dev\"\u003ESvelte 3\u003C\u002Fa\u003E with \u003Ca target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https:\u002F\u002Fsapper.svelte.dev\"\u003ESapper\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n",categories:["Svelte","Sapper"],time:"5 min read"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.53b6efe9.js"}catch(e){main="/client/legacy/client.a9d3e524.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 