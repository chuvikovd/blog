{"title":"Creating static blog with Sapper, TailwindCSS and Github pages - Part 2","description":"How to create static blog with Svelte 3, Sapper, TailwindCSS and deploy Github pages","slug":"creating-static-blog-part-2","html":"<p>This is the second part of the <a class=\"link\" href=\"./blog/creating-static-blog\">tutorial series</a> about creating static blog with Sapper, TailwindCSS and Github pages. In this part we are going to style our blog.</p>\n<p>First, let&#39;s install required dependencies:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">yarn add -D tailwindcss svelte-preprocess postcss-load-config postcss-import autoprefixer</code></pre><h3 id=\"tailwindcss\">TailwindCSS</h3>\n<p>Then, execute:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">npx tailwind init</code></pre><p>to create Tailwind config file. This step is optional as Tailwind provides default configuration. However, I am going to modify theme fonts.</p>\n<p>For now, <code>tailwind.config.js</code> s empty:</p>\n<pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  theme<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    extend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  variants<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre><p>We will leave it for now.</p>\n<h3 id=\"postcss\">PostCSS</h3>\n<p>For Tailwind we also need <code>PostCSS</code>. We are going to use with following plugins too - <code>autoprefixer</code> and <code>postcss-import</code>. We are going to configure them now. Create a file <code>postcss.config.js</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> atImport <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'postcss-import'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> tailwindcss <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tailwindcss'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> autoprefixer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'autoprefixer'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    atImport<span class=\"token punctuation\">,</span>\n    tailwindcss<span class=\"token punctuation\">,</span>\n    autoprefixer<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre><p>Now, open <code>rollup.config.js</code> and add following lines:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> sveltePreprocess <span class=\"token keyword\">from</span> <span class=\"token string\">'svelte-preprocess'</span>\n\n<span class=\"token keyword\">const</span> preprocess <span class=\"token operator\">=</span> <span class=\"token function\">sveltePreprocess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> postcss<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre><p>modify following code block in <code>client</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// before</span>\n<span class=\"token function\">svelte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  dev<span class=\"token punctuation\">,</span>\n  hydratable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  emitCss<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">// after</span>\n<span class=\"token function\">svelte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  dev<span class=\"token punctuation\">,</span>\n  hydratable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  emitCss<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  preprocess<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre><p>and in <code>server</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// before</span>\n<span class=\"token function\">svelte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  generate<span class=\"token operator\">:</span> <span class=\"token string\">'ssr'</span><span class=\"token punctuation\">,</span>\n  dev\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">// after</span>\n<span class=\"token function\">svelte</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  generate<span class=\"token operator\">:</span> <span class=\"token string\">'ssr'</span><span class=\"token punctuation\">,</span>\n  dev<span class=\"token punctuation\">,</span>\n  preprocess<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre><p>That&#39;s all for configuration, for now. We can start styling our blog at this point.</p>\n<h3 id=\"styling\">Styling</h3>\n<p>Open <code>src/routes/_layout.svelte</code> and replace <code>&lt;style</code> block with following:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span> <span class=\"token attr-name\">global</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n    <span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> base<span class=\"token punctuation\">;</span></span>\n    <span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> components<span class=\"token punctuation\">;</span></span>\n    <span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre><p>This all we need to start using Tailwind. <code>global</code> attribute tells Svelte not to scope this style block only to this component, so we won&#39;t receive &quot;Unused CSS selector&quot; warning, as we would normally receive.</p>\n<p>Now, we can remove other <code>&lt;style</code> blocks in all components.</p>\n<p>First, we will modify existing <code>Nav.svelte</code> component, and create another two - <code>Item.svelte</code> and <code>Copyright.svelte</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/components/Nav.svelte</span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> segment<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"border-b border-black flex flex-col pt-4 pb-2\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"inline-block font-display font-bold text-4xl self-start\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\".\"</span><span class=\"token operator\">></span>Blog<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>nav <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flex justify-between mt-2\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flex\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mr-4\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span>\n          rel<span class=\"token operator\">=</span><span class=\"token string\">\"prefetch\"</span>\n          <span class=\"token keyword\">class</span><span class=\"token operator\">:</span>selected<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>segment <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">}</span>\n          href<span class=\"token operator\">=</span><span class=\"token string\">\".\"</span><span class=\"token operator\">></span>\n          Home\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mr-4\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span>\n          rel<span class=\"token operator\">=</span><span class=\"token string\">\"prefetch\"</span>\n          <span class=\"token keyword\">class</span><span class=\"token operator\">:</span>selected<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>segment <span class=\"token operator\">===</span> <span class=\"token string\">'blog'</span><span class=\"token punctuation\">}</span>\n          href<span class=\"token operator\">=</span><span class=\"token string\">\"blog\"</span><span class=\"token operator\">></span>\n          Blog\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span>\n          rel<span class=\"token operator\">=</span><span class=\"token string\">\"prefetch\"</span>\n          <span class=\"token keyword\">class</span><span class=\"token operator\">:</span>selected<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>segment <span class=\"token operator\">===</span> <span class=\"token string\">'about'</span><span class=\"token punctuation\">}</span>\n          href<span class=\"token operator\">=</span><span class=\"token string\">\"about\"</span><span class=\"token operator\">></span>\n          About\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>ul <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"flex\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>li <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mr-4\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span>\n          href<span class=\"token operator\">=</span><span class=\"token string\">\"https://twitter.com\"</span><span class=\"token operator\">></span>\n          Twitter\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a\n          <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span>\n          href<span class=\"token operator\">=</span><span class=\"token string\">\"https://facebook.com\"</span><span class=\"token operator\">></span>\n          Facebook\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/components/Item.svelte</span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">import</span> format <span class=\"token keyword\">from</span> <span class=\"token string\">\"date-fns/format\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> post<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"block mt-6\"</span> href<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> rel<span class=\"token operator\">=</span><span class=\"token string\">\"prefetch\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>h3\n    <span class=\"token keyword\">class</span><span class=\"token operator\">=</span>\"font<span class=\"token operator\">-</span>medium text<span class=\"token operator\">-</span><span class=\"token number\">2</span>xl text<span class=\"token operator\">-</span>gray<span class=\"token operator\">-</span><span class=\"token number\">700</span> hover<span class=\"token operator\">:</span>text<span class=\"token operator\">-</span>gray<span class=\"token operator\">-</span><span class=\"token number\">900</span>\n    hover<span class=\"token operator\">:</span>underline\"<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600\"</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>post<span class=\"token punctuation\">.</span>created<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'MMMM d, yyyy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">{</span>@html post<span class=\"token punctuation\">.</span>excerpt<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span></code></pre><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src.components/Copyright.svelte</span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"border-t border-black py-4 text-center text-gray-600\"</span><span class=\"token operator\">></span>\n  © <span class=\"token number\">2020</span> by Blog<span class=\"token punctuation\">.</span> All rights reserved<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre><p>And then, modify <code>src/routes/_layout.svelte</code>. Add:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> Copyright <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/Copyright.svelte\"</span><span class=\"token punctuation\">;</span></code></pre><p>to <code>&lt;script</code> part, and change template part:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container max-w-5xl mx-auto<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Nav</span> <span class=\"token attr-name\">{segment}</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>slot</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Copyright</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre><p>Next, we will style <code>index</code> page. I want to display 3 latest blog posts here, so, we will create file <code>src/routes/blog/latest.json.js</code> with following content:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> posts <span class=\"token keyword\">from</span> <span class=\"token string\">\"./_posts.js\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> contents <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      title<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\n      slug<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n      created<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>created<span class=\"token punctuation\">,</span>\n      excerpt<span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>excerpt\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Content-Type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"application/json\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span>contents<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre><p>This is copy-paste from <code>src/routes/blog/index.json.js</code> with just one change - we <code>slice</code> our result to limit response to just 3 posts.</p>\n<p>Now, modify <code>src/routes/index.svelte</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script context<span class=\"token operator\">=</span><span class=\"token string\">\"module\"</span><span class=\"token operator\">></span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">preload</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> params<span class=\"token punctuation\">,</span> query <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blog/latest.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span> <span class=\"token operator\">=></span> r<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">posts</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> posts <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">import</span> Item <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/Item.svelte\"</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> posts<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>svelte<span class=\"token operator\">:</span>head<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Sapper project template<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>svelte<span class=\"token operator\">:</span>head<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"py-24\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"font-bold text-6xl mb-4\"</span><span class=\"token operator\">></span>Hi<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>p <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-xl\"</span><span class=\"token operator\">></span>\n    <span class=\"token constant\">I</span>'m Blog<span class=\"token punctuation\">.</span> Today <span class=\"token constant\">I</span> show how to create a <span class=\"token keyword\">static</span> Svelte blog using TailwindCSS<span class=\"token punctuation\">.</span>\n    Check out my page to learn <span class=\"token keyword\">this</span> and other interesting stuff<span class=\"token punctuation\">.</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"border-b border-black flex justify-between items-center pb-2\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>strong <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-3xl\"</span><span class=\"token operator\">></span>Latest Posts<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>strong<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-gray-600 hover:text-gray-800 hover:underline\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/blog\"</span><span class=\"token operator\">></span>\n    Read all posts\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mb-6\"</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">{</span>#each posts <span class=\"token keyword\">as</span> post<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span>Item <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">{</span><span class=\"token operator\">/</span>each<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre><p>Then, modify <code>src/routes/blog/index.svelte</code>. Remove everything after <code>&lt;script context=&quot;module&quot;</code> block, and paste:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n  <span class=\"token keyword\">import</span> Item <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../components/Item.svelte\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> posts<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>svelte<span class=\"token operator\">:</span>head<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>Blog<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>svelte<span class=\"token operator\">:</span>head<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"mb-6\"</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">{</span>#each posts <span class=\"token keyword\">as</span> post<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span>Item <span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">{</span><span class=\"token operator\">/</span>each<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre><p>And finally, modify <code>src/routes/blog/[slug].svelte</code> template part:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>h1 <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text-5xl mt-4 mb-6 font-bold\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>post<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">'markdown'</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>@html post<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre><h2 id=\"prismjs-syntax-highlighting-and-markdown-styling\">PrismJS syntax highlighting and markdown styling</h2>\n<blockquote>\n<p>Note: to see changes, create post or modify existing, so it contains some code. See examples <a target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https://github.com/chuvikovd/sapper-blog-tutorial/tree/b2d2210b60f9ef22825ac00ea89a403b34c1eb97/src/routes/blog/posts\">here</a></p>\n</blockquote>\n<p>Now we are going to add css required for syntax highlighting.</p>\n<p>First, I will add some order for styles in this project. Let&#39;s create files <code>src/css/tailwind.css</code>, <code>src/css/markdown.css</code> and <code>src/css/style.css</code>:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* src/css/tailwind.css */</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> base<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> components<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span></code></pre><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* src/css/style.css */</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'tailwind'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'prismjs/themes/prism'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">\"markdown\"</span><span class=\"token punctuation\">;</span></span></code></pre><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* src/css/markdown.css */</span>\n\n<span class=\"token selector\">.markdown</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-normal break-words<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown > * + *</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> mt-0 mb-4<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown li + li</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> mt-1<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown li > p + p</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> mt-6<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown strong</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> font-semibold<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown strong a</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> font-bold<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h1</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-tight text-4xl font-semibold mb-4 mt-6 pb-2<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h2</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-tight text-2xl font-semibold mb-4 mt-6 pb-2<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h3</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-snug text-lg font-semibold mb-4 mt-6<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h4</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-none text-base font-semibold mb-4 mt-6<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h5</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-tight text-sm font-semibold mb-4 mt-6<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown h6</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> leading-tight text-sm font-semibold text-gray-800 mb-4 mt-6<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown blockquote</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-base border-l-4 border-gray-700 pl-4 pr-4 text-gray-800<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown code</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-sm rounded<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown pre</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> rounded<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown code:not([class^=\"language-\"])</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> bg-gray-100 rounded px-1 py-1<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown.night code:not([class^=\"language-\"])</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-black<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown ul</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-base pl-8 list-disc<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown ol</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-base pl-8 list-decimal<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown table</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> text-base border-gray-700<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown th</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> border border-gray-700 py-1 px-3<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.markdown td</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@apply</span> border border-gray-700 py-1 px-3<span class=\"token punctuation\">;</span></span>\n<span class=\"token punctuation\">}</span></code></pre><p>And finally, remove <code>@tailwind</code> directives from <code>src/routes/_layout.svelte</code>, and add <code>@import &quot;../css/style&quot;;</code>.</p>\n<h3 id=\"purging-unused-css\">Purging unused css</h3>\n<p>Now, if you open <code>http://localhost:3000</code> we would see that our styling is done, but, in your browser dev-tools style inspector, you will see 2k+ style rules. Most of them are generated by Tailwind, but we need just a bit of them.</p>\n<p>That&#39;s where <a target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https://www.npmjs.com/package/purgecss\">PurgeCSS</a> comes into play. Run:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">yarn add -D purgecss</code></pre><p>and modify <code>postcss.config.js</code>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> atImport <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'postcss-import'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> tailwindcss <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tailwindcss'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> purgecss <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@fullhuman/postcss-purgecss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  content<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'./src/**/*.html'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./src/**/*.svelte'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'./src/**/*.css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  whitelistPatterns<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\">/svelte-/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">defaultExtractor</span><span class=\"token operator\">:</span> <span class=\"token parameter\">content</span> <span class=\"token operator\">=></span> content<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[A-Za-z0-9-_:/]+/g</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> autoprefixer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'autoprefixer'</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    atImport<span class=\"token punctuation\">,</span>\n    tailwindcss<span class=\"token punctuation\">,</span>\n    autoprefixer<span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span>purgecss<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre><p>and finally, add purgecss ignore comments around prismjs theme import in <code>src/css/style.css</code>:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* purgecss start ignore */</span>\n<span class=\"token atrule\"><span class=\"token rule\">@import</span> <span class=\"token string\">'prismjs/themes/prism'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token comment\">/* purgecss end ignore */</span></code></pre><p>Without this, production build of our blog will miss syntax highlight css. That&#39;s it, we are almost done with styling our blog. I skipped styling <code>error</code> and <code>about</code> pages - feel free to do it yourself :). You can view the whole project at this point <a target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https://github.com/chuvikovd/sapper-blog-tutorial/tree/b2d2210b60f9ef22825ac00ea89a403b34c1eb97\">here</a>. Stay tuned for the rest parts.</p>\n<h2 id=\"credits\">Credits</h2>\n<p><a target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https://minimal-blog.netlify.com/\">Lupin</a> - beautiful theme used for inspiration. Author - <a target=\"_blank\" rel=\"nofollow\" class=\"link\" href=\"https://www.lekoarts.de/en\">LekoArts</a></p>\n","created":"2020-01-16T20:53:00.485Z","excerpt":"<p>This is the second part of the <a class=\"link\" href=\"./blog/creating-static-blog\">tutorial series</a> about creating static blog with Sapper, TailwindCSS and Github pages. In this part we are going to style our blog.</p>\n","categories":["Svelte","Sapper","TailwindCSS"],"time":"7 min read"}