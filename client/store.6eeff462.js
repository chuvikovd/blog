import{n,s as t}from"./index.adcd38c1.js";const s=[];function e(e,o=n){let c;const l=[];function i(n){if(t(e,n)&&(e=n,c)){const n=!s.length;for(let n=0;n<l.length;n+=1){const t=l[n];t[1](),s.push(t,e)}if(n){for(let n=0;n<s.length;n+=2)s[n][0](s[n+1]);s.length=0}}}return{set:i,update:function(n){i(n(e))},subscribe:function(t,s=n){const u=[t,s];return l.push(u),1===l.length&&(c=o(i)||n),t(e),()=>{const n=l.indexOf(u);-1!==n&&l.splice(n,1),0===l.length&&(c(),c=null)}}}}const o=e(!0);export{o as d,e as w};
